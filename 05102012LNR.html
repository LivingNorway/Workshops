<!DOCTYPE html>
<html lang="en"><head>
<script src="05102012LNR_files/libs/clipboard/clipboard.min.js"></script>
<script src="05102012LNR_files/libs/quarto-html/tabby.min.js"></script>
<script src="05102012LNR_files/libs/quarto-html/popper.min.js"></script>
<script src="05102012LNR_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="05102012LNR_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="05102012LNR_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="05102012LNR_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.32">

  <meta name="author" content="Matt">
  <title>Introducing LivingNorwayR</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="05102012LNR_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="05102012LNR_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="05102012LNR_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="05102012LNR_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="05102012LNR_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="05102012LNR_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="05102012LNR_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="05102012LNR_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="05102012LNR_files/libs/jquery-1.12.4/jquery.min.js"></script>
  <link href="05102012LNR_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
  <script src="05102012LNR_files/libs/leaflet-1.3.1/leaflet.js"></script>
  <link href="05102012LNR_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
  <script src="05102012LNR_files/libs/proj4-2.6.2/proj4.min.js"></script>
  <script src="05102012LNR_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
  <link href="05102012LNR_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
  <script src="05102012LNR_files/libs/leaflet-binding-2.1.1/leaflet.js"></script>
  <script src="05102012LNR_files/libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
  <script src="05102012LNR_files/libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
  <script src="05102012LNR_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="05102012LNR_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Introducing LivingNorwayR</h1>
  <p class="author">Matt</p>
</section>

<section id="livingnorwayr" class="slide level2">
<h2>LivingNorwayR</h2>
<div class="fragment">
<p><em>Motivation</em>:</p>
<ul>
<li><p>Provide a workflow for creating a Darwin Core Standard-compliant data archive (“a data package”)</p></li>
<li><p>Facilitate <a href="https://www.go-fair.org/fair-principles/">FAIR</a> data/metadata sharing</p></li>
<li><p>Make it easy to interact with the <a href="https://data.livingnorway.no/">Living Norway Portal</a></p></li>
</ul>
</div>
</section>
<section>
<section id="getting-data-from-the-portal" class="title-slide slide level1 center">
<h1>Getting data from the Portal</h1>

<img data-src="assets/PortalScreen.png" class="r-stretch quarto-figure-center"><p class="caption">Living Norway Data Portal</p></section>
<section id="getlnportaldata" class="slide level2">
<h2>getLNPortalData</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(LivingNorwayR)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb1-3"><a href="#cb1-3"></a>beetle_data<span class="ot">&lt;-</span>LivingNorwayR<span class="sc">::</span><span class="fu">getLNportalData</span>(<span class="st">"c5fe763f-6851-4610-bdc3-67143540be67"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">class</span>(beetle_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "DwCArchive" "R6"        </code></pre>
</div>
</div>
<p>An R6 Class of type DWCArchive is downloaded and imported in to your R session.</p>
</section>
<section id="using-the-data" class="slide level2">
<h2>Using the data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># DWCA consists of a core, extension(s), metadata, &amp;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"># metafile (metadata about the DWCA)</span></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a>beetle_data<span class="sc">$</span><span class="fu">getCoreTable</span>()</span>
<span id="cb3-5"><a href="#cb3-5"></a>beetle_data<span class="sc">$</span><span class="fu">getExtensionTables</span>()</span>
<span id="cb3-6"><a href="#cb3-6"></a>beetle_data<span class="sc">$</span><span class="fu">getMetadata</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="getcoretable" class="slide level2">
<h2>getCoreTable</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>coreTable<span class="ot">&lt;-</span>beetle_data<span class="sc">$</span><span class="fu">getCoreTable</span>()</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">class</span>(coreTable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "GBIFEvent"  "DwCGeneric" "R6"        </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>coreTable_df<span class="ot">&lt;-</span>coreTable<span class="sc">$</span><span class="fu">exportAsDataFrame</span>()</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">names</span>(coreTable_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"                            "datasetName"                  
 [3] "eventID"                       "locationID"                   
 [5] "country"                       "municipality"                 
 [7] "decimalLatitude"               "decimalLongitude"             
 [9] "geodeticDatum"                 "coordinateUncertaintyInMeters"</code></pre>
</div>
</div>
</section>
<section id="visualisation-example" class="slide level2">
<h2>Visualisation example</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Code</a></li><li><a href="#tabset-1-2">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb8-2"><a href="#cb8-2"></a>map<span class="ot">&lt;-</span><span class="fu">leaflet</span>(<span class="at">data =</span> coreTable_df) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.NatGeoWorldMap) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">addMarkers</span>(<span class="sc">~</span>decimalLongitude, <span class="sc">~</span>decimalLatitude, </span>
<span id="cb8-5"><a href="#cb8-5"></a>             <span class="at">popup =</span> <span class="sc">~</span><span class="fu">as.character</span>(municipality), </span>
<span id="cb8-6"><a href="#cb8-6"></a>             <span class="at">label =</span> <span class="sc">~</span><span class="fu">as.character</span>(municipality))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-6948f0024ac42b8b2534" style="width:960px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6948f0024ac42b8b2534">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.NatGeoWorldMap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addMarkers","args":[[60.69029617,60.69029617,60.69029617,60.6909256,60.6909256,60.6909256,60.6909256,60.6909256,60.6909256,59.33370972,59.33370972,59.33370972,59.33269882,59.33269882,59.33269882,59.33408356,59.33408356,59.33408356,59.34421158,59.34421158,59.34421158,59.34562302,59.34562302,59.34562302,59.34421158,59.34421158,59.34421158,59.57160568,59.57160568,59.57160568,59.57310867,59.57310867,59.57310867,59.57310867,59.57310867,59.57310867,59.71479416,59.71479416,59.71479416,59.71587753,59.71587753,59.71587753,59.71479416,59.71479416,59.71479416,59.83355331,59.83355331,59.83355331,59.83370209,59.83370209,59.83370209,59.83370209,59.83370209,59.83370209,59.71523285,59.71523285,59.71523285,59.71534729,59.71534729,59.71534729,59.71523285,59.71523285,59.71523285,61.11790085,61.11790085,61.11790085,61.11853027,61.11853027,61.11853027,61.11853027,61.11853027,61.11853027,61.07978821,61.07978821,61.07978821,61.08017349,61.08017349,61.08017349,61.07978821,61.07978821,61.07978821,60.86584473,60.86584473,60.86584473,60.86730576,60.86730576,60.86730576,60.86730576,60.86730576,60.86730576,60.82294083,60.82294083,60.82294083,60.82117462,60.82117462,60.82117462,60.82294083,60.82294083,60.82294083,60.58265686,60.58265686,60.58265686,60.58452606,60.58452606,60.58452606,60.58452606,60.58452606,60.58452606,60.41313171,60.41313171,60.41313171,60.40739059,60.40739059,60.40739059,60.41313171,60.41313171,60.41313171,60.2768631,60.2768631,60.2768631,60.27648544,60.27648544,60.27648544,60.27648544,60.27648544,60.27648544,60.37456512,60.37456512,60.37456512,60.37503815,60.37503815,60.37503815,60.37456512,60.37456512,60.37456512,60.43606567,60.43606567,60.43606567,60.4360466,60.4360466,60.4360466,60.4360466,60.4360466,60.4360466,60.18782806,60.18782806,60.18782806,60.18727493,60.18727493,60.18727493,60.18782806,60.18782806,60.18782806,60.16046143,60.16046143,60.16046143,60.15951157,60.15951157,60.15951157,60.15951157,60.15951157,60.15951157,59.98532486,59.98532486,59.98532486,59.98622131,59.98622131,59.98622131,59.98532486,59.98532486,59.98532486],[8.945561409,8.945561409,8.945561409,8.948526382,8.948526382,8.948526382,8.948526382,8.948526382,8.948526382,10.44264984,10.44264984,10.44264984,10.43842316,10.43842316,10.43842316,10.44452953,10.44452953,10.44452953,11.07988739,11.07988739,11.07988739,11.07701874,11.07701874,11.07701874,11.07988739,11.07988739,11.07988739,10.67582703,10.67582703,10.67582703,10.6762743,10.6762743,10.6762743,10.6762743,10.6762743,10.6762743,10.74912262,10.74912262,10.74912262,10.75088596,10.75088596,10.75088596,10.74912262,10.74912262,10.74912262,10.88290882,10.88290882,10.88290882,10.88504124,10.88504124,10.88504124,10.88504124,10.88504124,10.88504124,9.957780838,9.957780838,9.957780838,9.953020096,9.953020096,9.953020096,9.957780838,9.957780838,9.957780838,10.57435894,10.57435894,10.57435894,10.57284927,10.57284927,10.57284927,10.57284927,10.57284927,10.57284927,10.68053246,10.68053246,10.68053246,10.67849541,10.67849541,10.67849541,10.68053246,10.68053246,10.68053246,11.26632977,11.26632977,11.26632977,11.26595402,11.26595402,11.26595402,11.26595402,11.26595402,11.26595402,11.28308487,11.28308487,11.28308487,11.28343773,11.28343773,11.28343773,11.28308487,11.28308487,11.28308487,11.36179352,11.36179352,11.36179352,11.36324406,11.36324406,11.36324406,11.36324406,11.36324406,11.36324406,11.27193356,11.27193356,11.27193356,11.26632118,11.26632118,11.26632118,11.27193356,11.27193356,11.27193356,9.829470634,9.829470634,9.829470634,9.831088066,9.831088066,9.831088066,9.831088066,9.831088066,9.831088066,9.648504257,9.648504257,9.648504257,9.64758873,9.64758873,9.64758873,9.648504257,9.648504257,9.648504257,9.354058266,9.354058266,9.354058266,9.354439735,9.354439735,9.354439735,9.354439735,9.354439735,9.354439735,10.26235771,10.26235771,10.26235771,10.26397705,10.26397705,10.26397705,10.26235771,10.26235771,10.26235771,10.33891106,10.33891106,10.33891106,10.34134102,10.34134102,10.34134102,10.34134102,10.34134102,10.34134102,10.7158432,10.7158432,10.7158432,10.71522713,10.71522713,10.71522713,10.7158432,10.7158432,10.7158432],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Gol","Gol","Gol","Gol","Gol","Gol","Gol","Gol","Gol","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo"],null,null,null,["Gol","Gol","Gol","Gol","Gol","Gol","Gol","Gol","Gol","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Tønsberg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Sarpsborg","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Vestby","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Ås","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Øvre Eiker","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Lillehammer","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Ringsaker","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Hamar","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Løten","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Stange","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Eidsvoll","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Flå","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Ringerike","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo","Oslo"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[59.33269882,61.11853027],"lng":[8.945561409,11.36324406]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="getextensiontables" class="slide level2">
<h2>getExtensionTables</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>occ<span class="ot">&lt;-</span>beetle_data<span class="sc">$</span><span class="fu">getExtensionTables</span>()</span>
<span id="cb9-2"><a href="#cb9-2"></a>occ<span class="ot">&lt;-</span>occ[[<span class="dv">1</span>]]<span class="sc">$</span><span class="fu">exportAsDataFrame</span>()</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">names</span>(occ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"                   "institutionCode"      "basisOfRecord"       
 [4] "occurrenceID"         "recordedBy"           "organismQuantity"    
 [7] "organismQuantityType" "occurrenceStatus"     "eventID"             
[10] "eventDate"            "locationID"           "identifiedBy"        
[13] "scientificName"       "kingdom"              "order"               
[16] "taxonRank"           </code></pre>
</div>
</div>
</section>
<section id="visualisation-examples" class="slide level2">
<h2>Visualisation examples</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Code</a></li><li><a href="#tabset-2-2">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>Meligethes<span class="ot">&lt;-</span>occ <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">select</span>(scientificName) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"Meligethes"</span>,scientificName))</span>
<span id="cb11-4"><a href="#cb11-4"></a>p<span class="ot">=</span>Meligethes <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">group_by</span>(scientificName) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">tally</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(n,<span class="fu">reorder</span>(scientificName,n)))<span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>    <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">fill=</span><span class="st">"darkblue"</span>)<span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Records"</span>, <span class="at">y=</span><span class="st">"Scientific name"</span>)<span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="fu">library</span>(rphylopic)</span>
<span id="cb11-12"><a href="#cb11-12"></a>img<span class="ot">&lt;-</span> <span class="fu">name_search</span>(<span class="at">text =</span> <span class="st">"Meligethes"</span>, <span class="at">options =</span> <span class="st">"namebankID"</span>)[[<span class="dv">1</span>]] <span class="co"># find names</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>img_id_all <span class="ot">&lt;-</span> <span class="fu">name_images</span>(<span class="at">uuid =</span> img<span class="sc">$</span>uid[<span class="dv">1</span>])  <span class="co"># list images</span></span>
<span id="cb11-14"><a href="#cb11-14"></a></span>
<span id="cb11-15"><a href="#cb11-15"></a>img_pic<span class="ot">&lt;-</span><span class="fu">image_data</span>(img_id_all<span class="sc">$</span>supertaxa[[<span class="dv">1</span>]]<span class="sc">$</span>uid, <span class="at">size =</span> <span class="dv">256</span>)[[<span class="dv">1</span>]] <span class="co"># get a get individual image id</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="05102012LNR_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="getmetadata" class="slide level2">
<h2>getMetadata</h2>
<p>We can access the metadata object as well</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>metadata<span class="ot">=</span>beetle_data<span class="sc">$</span><span class="fu">getMetadata</span>()</span>
<span id="cb12-2"><a href="#cb12-2"></a>Title<span class="ot">&lt;-</span>metadata<span class="sc">$</span><span class="fu">getTitle</span>()</span>
<span id="cb12-3"><a href="#cb12-3"></a>Creator<span class="ot">&lt;-</span>metadata<span class="sc">$</span><span class="fu">getCreatorInfo</span>()</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="fu">paste0</span>(<span class="st">"The project, "</span>,<span class="st">"'"</span>, Title, <span class="st">"'"</span>, <span class="st">" was created by "</span>, Creator[[<span class="dv">1</span>]]<span class="sc">$</span>individualName<span class="sc">$</span>givenName,<span class="st">" "</span>, Creator[[<span class="dv">1</span>]]<span class="sc">$</span>individualName<span class="sc">$</span>surName</span>
<span id="cb12-6"><a href="#cb12-6"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "The project, 'Effects of vegetation clearing and dead wood on beetles in power line clearings southeast Norway' was created by Katrine Eldegard"</code></pre>
</div>
</div>
</section></section>
<section>
<section id="converting-your-own-data-to-living-norwaydwca-format" class="title-slide slide level1 center">
<h1>Converting your own data to Living Norway/DWCA format</h1>

</section>
<section id="a-dataset" class="slide level2">
<h2>A dataset</h2>
<p>An ecological dataset generally has “similar” elements. An <strong>Event</strong> (e.g.&nbsp;some sampling method), a set of <strong>Occurrences</strong> (e.g.&nbsp;a list of species/taxa observed) and some <strong>Measurement or fact</strong> (e.g.&nbsp;measurements of size, environmental covariates etc.). <strong>Metadata</strong> (data about the data) describes the dataset for other people.</p>
</section>
<section id="penguins" class="slide level2">
<h2>Penguins</h2>
<p>Let’s use a well-known and openly available dataset from R; The Palmer Penguins dataset.</p>
<p>This dataset consists of observations and measurements of three different species of penguin in Antarctica.</p>

<img data-src="assets/penguins.png" class="r-stretch quarto-figure-center"><p class="caption">The three species of penguin. Artwork by Allison Horst</p></section>
<section id="explore-the-data" class="slide level2">
<h2>Explore the data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb14-2"><a href="#cb14-2"></a>penguin_data<span class="ot">&lt;-</span>penguins_raw</span>
<span id="cb14-3"><a href="#cb14-3"></a>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>  kableExtra<span class="sc">::</span><span class="fu">kable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="st">"striped"</span>, <span class="at">full_width =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7"></a> kableExtra<span class="sc">::</span><span class="fu">scroll_box</span>(<span class="at">width =</span> <span class="st">"1200px"</span>, <span class="at">height =</span> <span class="st">"250px"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:1200px; "><table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> studyName </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Sample Number </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Species </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Region </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Island </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Stage </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Individual ID </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Clutch Completion </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Date Egg </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Culmen Length (mm) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Culmen Depth (mm) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Flipper Length (mm) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Body Mass (g) </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Sex </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Delta 15 N (o/oo) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Delta 13 C (o/oo) </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Comments </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N1A1 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-11 </td>
   <td style="text-align:right;"> 39.1 </td>
   <td style="text-align:right;"> 18.7 </td>
   <td style="text-align:right;"> 181 </td>
   <td style="text-align:right;"> 3750 </td>
   <td style="text-align:left;"> MALE </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Not enough blood for isotopes. </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N1A2 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-11 </td>
   <td style="text-align:right;"> 39.5 </td>
   <td style="text-align:right;"> 17.4 </td>
   <td style="text-align:right;"> 186 </td>
   <td style="text-align:right;"> 3800 </td>
   <td style="text-align:left;"> FEMALE </td>
   <td style="text-align:right;"> 8.94956 </td>
   <td style="text-align:right;"> -24.69454 </td>
   <td style="text-align:left;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N2A1 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-16 </td>
   <td style="text-align:right;"> 40.3 </td>
   <td style="text-align:right;"> 18.0 </td>
   <td style="text-align:right;"> 195 </td>
   <td style="text-align:right;"> 3250 </td>
   <td style="text-align:left;"> FEMALE </td>
   <td style="text-align:right;"> 8.36821 </td>
   <td style="text-align:right;"> -25.33302 </td>
   <td style="text-align:left;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N2A2 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-16 </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:right;"> NA </td>
   <td style="text-align:left;"> Adult not sampled. </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N3A1 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-16 </td>
   <td style="text-align:right;"> 36.7 </td>
   <td style="text-align:right;"> 19.3 </td>
   <td style="text-align:right;"> 193 </td>
   <td style="text-align:right;"> 3450 </td>
   <td style="text-align:left;"> FEMALE </td>
   <td style="text-align:right;"> 8.76651 </td>
   <td style="text-align:right;"> -25.32426 </td>
   <td style="text-align:left;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PAL0708 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:left;"> Adelie Penguin (Pygoscelis adeliae) </td>
   <td style="text-align:left;"> Anvers </td>
   <td style="text-align:left;"> Torgersen </td>
   <td style="text-align:left;"> Adult, 1 Egg Stage </td>
   <td style="text-align:left;"> N3A2 </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> 2007-11-16 </td>
   <td style="text-align:right;"> 39.3 </td>
   <td style="text-align:right;"> 20.6 </td>
   <td style="text-align:right;"> 190 </td>
   <td style="text-align:right;"> 3650 </td>
   <td style="text-align:left;"> MALE </td>
   <td style="text-align:right;"> 8.66496 </td>
   <td style="text-align:right;"> -25.29805 </td>
   <td style="text-align:left;"> NA </td>
  </tr>
</tbody>
</table></div>

</div>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<p>Each row is a single individual penguin of one of the three species. There are measures of body size (bill and flipper lengths), sex (male or female), as well as information on egg laying date and stable isotope analysis from blood samples.</p>

<img data-src="assets/culmen_depth.png" class="r-stretch quarto-figure-center"><p class="caption">Bill length and depth measurements for each penguin. Artwork by Allison Horst</p></section>
<section id="mapping-to-darwin-core" class="slide level2">
<h2>Mapping to Darwin Core</h2>
<h3 id="deciding-on-the-core">Deciding on the Core</h3>
<p>The first task is to decide how our data will be structured.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>LivingNorwayR<span class="sc">::</span><span class="fu">getGBIFCoreClasses</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]<span class="co">#Truncated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$GBIFEvent
http://rs.tdwg.org/dwc/terms/Event - Event
An action that occurs at some location during some time.

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/Event
    Version IRI: http://rs.tdwg.org/dwc/terms/version/Event-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        A specimen collection process. A camera trap image capture.  A marine trawl.
    Miscellaneous information:
        DataSets/DataSet/Units/Unit/Gathering

$GBIFOccurrence
http://rs.tdwg.org/dwc/terms/Occurrence - Occurrence
An existence of an Organism (sensu http://rs.tdwg.org/dwc/terms/Organism) at a particular place at a particular time.

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/Occurrence
    Version IRI: http://rs.tdwg.org/dwc/terms/version/Occurrence-2020-08-20
    Type: Class
    Date modified: 2020-08-20
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        A wolf pack on the shore of Kluane Lake in 1988. A virus in a plant leaf in the New York Botanical Garden at 15:29 on 2014-10-23. A fungus in Central Park in the summer of 1929.
    Miscellaneous information:
        DataSets/DataSet/Units/Unit

$GBIFTaxon
http://rs.tdwg.org/dwc/terms/Taxon - Taxon
A group of organisms (sensu http://purl.obolibrary.org/obo/OBI_0100026) considered by taxonomists to form a homogeneous unit.

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/Taxon
    Version IRI: http://rs.tdwg.org/dwc/terms/version/Taxon-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        The genus Truncorotaloides as published by Brönnimann et al. in 1953 in the Journal of Paleontology Vol. 27(6) p. 817-820.
    Miscellaneous information:
        no simple equivalent in ABCD

$&lt;NA&gt;
NULL

$&lt;NA&gt;
NULL

$&lt;NA&gt;
NULL</code></pre>
</div>
</div>
</section>
<section id="deciding-on-the-extensions" class="slide level2">
<h2>Deciding on the extensions</h2>
<p>We have species data for each Event and we can include an Occurrence table as an extension.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>LivingNorwayR<span class="sc">::</span><span class="fu">getGBIFExtensionClasses</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># Truncated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$GBIFMultimedia
http://rs.tdwg.org/ac/terms/Multimedia - Multimedia
The Audubon Core is a set of vocabularies designed to represent metadata for biodiversity multimedia resources and collections. These vocabularies aim to represent information that will help to determine whether a particular resource or collection will be fit for some particular biodiversity science application before acquiring the media. Among others, the vocabularies address such concerns as the management of the media and collections, descriptions of their content, their taxonomic, geographic, and temporal coverage, and the appropriate ways to retrieve, attribute and reproduce them.

    IRI: http://rs.tdwg.org/ac/terms/Multimedia
    Version IRI: http://rs.tdwg.org/ac/terms/Multimedia
    Type: class
    Date modified: 2015-03-19
    Notes:
        The Audubon Core is a set of vocabularies designed to represent metadata for biodiversity multimedia resources and collections. These vocabularies aim to represent information that will help to determine whether a particular resource or collection will be fit for some particular biodiversity science application before acquiring the media. Among others, the vocabularies address such concerns as the management of the media and collections, descriptions of their content, their taxonomic, geographic, and temporal coverage, and the appropriate ways to retrieve, attribute and reproduce them.
    Miscellaneous information:
        GBIF core/extension class
    Vocabulary URI:
        http://terms.tdwg.org/wiki/Audubon_Core_Term_List

$GBIFChronometricAge
http://rs.tdwg.org/chrono/terms/ChronometricAge - ChronometricAge
Extension to Occurrence Core to capture chronometric age information to be used only in cases where the collecting event is not contemporaneous with the time when the dwc:Organism was alive in its context. Collection event information can be reported in dwc:eventDate. See also the normative term list document at https://tdwg.github.io/chrono/list/ and the human-friendly Quick Reference Guide at https://tdwg.github.io/chrono/terms/.

    IRI: http://rs.tdwg.org/chrono/terms/ChronometricAge
    Version IRI: http://rs.tdwg.org/chrono/terms/ChronometricAge
    Type: class
    Date modified: 2021-03-27
    Notes:
        Extension to Occurrence Core to capture chronometric age information to be used only in cases where the collecting event is not contemporaneous with the time when the dwc:Organism was alive in its context. Collection event information can be reported in dwc:eventDate. See also the normative term list document at https://tdwg.github.io/chrono/list/ and the human-friendly Quick Reference Guide at https://tdwg.github.io/chrono/terms/.
    Miscellaneous information:
        GBIF core/extension class
    Vocabulary URI:
        https://github.com/tdwg/chrono/blob/master/vocabulary/term_versions.csv

$GBIFIdentification
http://rs.tdwg.org/dwc/terms/Identification - Identification
A taxonomic determination (e.g., the assignment to a taxon).

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/Identification
    Version IRI: http://rs.tdwg.org/dwc/terms/version/Identification-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        A subspecies determination of an organism.
    Miscellaneous information:
        DataSets/DataSet/Units/Unit/Identifications/Identification

$GBIFMeasurementOrFact
http://rs.tdwg.org/dwc/terms/MeasurementOrFact - Measurement or Fact
A measurement of or fact about an rdfs:Resource (http://www.w3.org/2000/01/rdf-schema#Resource).

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/MeasurementOrFact
    Version IRI: http://rs.tdwg.org/dwc/terms/version/MeasurementOrFact-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Notes:
        Resources can be thought of as identifiable records or instances of classes and may include, but need not be limited to dwc:Occurrence, dwc:Organism, dwc:MaterialSample, dwc:Event, dwc:Location, dwc:GeologicalContext, dwc:Identification, or dwc:Taxon.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        The weight of an organism in grams. The number of placental scars. Surface water temperature in Celsius.
    Miscellaneous information:
        Datasets/Dataset/Units/Unit/MeasurementsOrFacts or DataSets/DataSet/Units/Unit/Gathering/SiteMeasurementsOrFacts

$GBIFResourceRelationship
http://rs.tdwg.org/dwc/terms/ResourceRelationship - Resource Relationship
A relationship of one rdfs:Resource (http://www.w3.org/2000/01/rdf-schema#Resource) to another.

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/ResourceRelationship
    Version IRI: http://rs.tdwg.org/dwc/terms/version/ResourceRelationship-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Notes:
        Resources can be thought of as identifiable records or instances of classes and may include, but need not be limited to dwc:Occurrence, dwc:Organism, dwc:MaterialSample, dwc:Event, dwc:Location, dwc:GeologicalContext, dwc:Identification, or dwc:Taxon.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        An instance of an Organism is the mother of another instance of an Organism. A uniquely identified Occurrence represents the same Occurrence as another uniquely identified Occurrence. A MaterialSample is a subsample of another MaterialSample.
    Miscellaneous information:
        DataSets/DataSet/Units/Unit/Associations

$GBIFEOLMediaExtension
http://www.eol.org/schema/transfer#/EOLMediaExtension - EOLMediaExtension
This extension draws from Audubon Core, Dublin Core and others to gather information about text and multimedia. It was designed to contain all the metadata that is required to be indexed by the Encyclopedia of Life (EOL), but this extension is hopefully general enough to be useful to all text and media providers and consumers. The original extension was offline; this is a copy recovered from the Internet Archive.  The issue date is estimated.

    IRI: http://eol.org/schema/media/Document
    Version IRI: http://eol.org/schema/media/Document
    Type: class
    Date modified: 2010-01-01
    Notes:
        This extension draws from Audubon Core, Dublin Core and others to gather information about text and multimedia. It was designed to contain all the metadata that is required to be indexed by the Encyclopedia of Life (EOL), but this extension is hopefully general enough to be useful to all text and media providers and consumers. The original extension was offline; this is a copy recovered from the Internet Archive.  The issue date is estimated.
    Miscellaneous information:
        GBIF core/extension class
    Vocabulary URI:
        http://eol.org/info/cp_archives</code></pre>
</div>
</div>
</section>
<section id="the-event-core" class="slide level2">
<h2>The Event Core</h2>
<p>We can get a list of the terms associated with an Event by using this code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">getGBIFEventMembers</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># Truncated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`http://purl.org/dc/terms/type`
http://purl.org/dc/terms/type - Type (DEPRECATED)
The nature or genre of the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/type
    Type: Property
    Date modified: 2008-01-14
    Is replaced by: http://purl.org/dc/elements/1.1/type
    Notes:
        To provide a string literal value for type, use dc:type rather than this term. In accordance with the Darwin Core RDF guide, rdf:type should be used instead of this term to indicate an IRI value for type.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2009-12-07_1
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
        http://rs.tdwg.org/decisions/decision-2019-12-01_20
    Miscellaneous information:
        This term is deprecated and should no longer be used.
        not in ABCD

$`http://purl.org/dc/terms/modified`
http://purl.org/dc/terms/modified - Date Modified
The most recent date-time on which the resource was changed.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/modified
    Version IRI: http://dublincore.org/usage/terms/history/#modified-003
    Type: Property
    Date modified: 2020-08-12
    Notes:
        Recommended best practice is to use a date that conforms to ISO 8601-1:2019.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
    Examples:
        1963-03-08T14:07-0600 (8 Mar 1963 at 2:07pm in the time zone six hours earlier than UTC). 2009-02-20T08:40Z (20 February 2009 8:40am UTC). 2018-08-29T15:19 (3:19pm local time on 29 August 2018). 1809-02-12 (some time during 12 February 1809). 1906-06 (some time in June 1906). 1971 (some time in the year 1971). 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z (some time during the interval between 1 March 2007 1pm UTC and 11 May 2008 3:30pm UTC). 1900/1909 (some time during the interval between the beginning of the year 1900 and the end of the year 1909). 2007-11-13/15 (some time in the interval between 13 November 2007 and 15 November 2007).
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/language`
http://purl.org/dc/terms/language - Language
A language of the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/language
    Version IRI: http://dublincore.org/usage/terms/history/#languageT-001
    Type: Property
    Date modified: 2008-01-14
    Notes:
        Recommended best practice is to use an IRI from the Library of Congress ISO 639-2 scheme http://id.loc.gov/vocabulary/iso639-2
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/license`
http://purl.org/dc/terms/license - License
A legal document giving official permission to do something with the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/license
    Version IRI: http://dublincore.org/usage/terms/history/#license-002
    Type: Property
    Date modified: 2008-01-14
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-11-06_17
    Examples:
        http://creativecommons.org/publicdomain/zero/1.0/legalcode, http://creativecommons.org/licenses/by/4.0/legalcode
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/rightsHolder`
http://purl.org/dc/terms/rightsHolder - Rights Holder
A person or organization owning or managing rights over the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/rightsHolder
    Version IRI: http://dublincore.org/usage/terms/history/#rightsHolder-002
    Type: Property
    Date modified: 2008-01-14
    Examples:
        The Regents of the University of California
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/accessRights`
http://purl.org/dc/terms/accessRights - Access Rights
Information about who can access the resource or an indication of its security status.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/accessRights
    Version IRI: http://dublincore.org/usage/terms/history/#accessRights-002
    Type: Property
    Date modified: 2008-01-14
    Notes:
        Access Rights may include information regarding access or restrictions based on privacy, security, or other policies.
    Examples:
        not-for-profit use only, https://www.fieldmuseum.org/field-museum-natural-history-conditions-and-suggested-norms-use-collections-data-and-images
    Miscellaneous information:
        not in ABCD</code></pre>
</div>
</div>
</section>
<section id="the-event-core-1" class="slide level2">
<h2>The Event Core</h2>
<p>GBIF recommends some required and suggested terms for Events <a href="https://www.gbif.org/data-quality-requirements-sampling-events">here</a>. These include <strong>eventID</strong>, <strong>eventDate</strong>, <strong>samplingProtocol</strong>, <strong>samplingSizeValue</strong> and <strong>samplingSizeUnit</strong> as required. Some of the strongly recommended elements that it makes sense for us to include are <strong>parentEventID</strong>, <strong>countryCode</strong>, <strong>locationID</strong> <strong>decimalLatitude</strong>, <strong>decimalLongitude</strong>, <strong>geodeticDatum</strong> and <strong>coordinateUncertaintyInMeters</strong>. We can also add <strong>type</strong>,<strong>datasetName</strong>, <strong>ownerInstitutionCode</strong>, <strong>country</strong>, <strong>year</strong>, <strong>month</strong> and <strong>day</strong>.</p>
</section>
<section id="parent-events" class="slide level2">
<h2>Parent Events</h2>
<p>Each event is a part of a higher level Event which is referred to as a Parent Event. The Parent Event in our case is represented by the “studyName” column. This represents a unique expedition carried out at a separate time. We can include this information in the Event table.</p>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<p>Each Parent Event needs a unique persistent identifier, <strong>parentEventID</strong>, which we can obtain from the uuid package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>penguin_data<span class="ot">&lt;-</span>penguin_data <span class="sc">%&gt;%</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb21-2"><a href="#cb21-2"></a>penguin_data<span class="ot">&lt;-</span>penguin_data <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">group_by</span>(study_name) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="at">parentEventID =</span> uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>(<span class="at">use.time =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-6"><a href="#cb21-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<p>There are different date ranges for each parent event and these need to be added as an <strong>eventDate</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Event Date for parentIDs</span></span>
<span id="cb22-2"><a href="#cb22-2"></a></span>
<span id="cb22-3"><a href="#cb22-3"></a>parent_penguinEvent<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">group_by</span>(parentEventID) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">summarise</span>(<span class="at">min=</span><span class="fu">min</span>(date_egg), <span class="at">max=</span><span class="fu">max</span>(date_egg)) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="fu">mutate</span>(<span class="at">eventDate=</span><span class="fu">paste0</span>(min,<span class="st">"/"</span>, max)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">eventID=</span>parentEventID)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-3" class="slide level2">
<h2></h2>
<p>We can also add some wider scale geographic information to the parent events. Such as <strong>continent</strong> and <strong>islandGroup</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Event continent and islandGroup for parentIDs</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>parent_penguinEvent<span class="ot">=</span>parent_penguinEvent <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">mutate</span>(<span class="at">continent=</span><span class="st">"Antarctica"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="fu">mutate</span>(<span class="at">islandGroup=</span><span class="st">"Palmer Archipelago"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(min,max))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="event" class="slide level2">
<h2>Event</h2>
<p>Let’s start with the <strong>type</strong>, <strong>datasetName</strong> and <strong>ownerInstitutionCode</strong>. The <strong>type</strong> is “Event”, the <strong>datasetName</strong> is “Palmer-penguins” and the Palmer Station Antarctica LTER <strong>ownerInstitutionCode</strong> is “PAL”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">mutate</span>(<span class="at">ownerInstitutionCode=</span><span class="st">"PAL"</span>,</span>
<span id="cb24-3"><a href="#cb24-3"></a>         <span class="at">type=</span><span class="st">"Event"</span>,</span>
<span id="cb24-4"><a href="#cb24-4"></a>         <span class="at">datasetName=</span><span class="st">"Palmer-penguins"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<p>Each Event also needs a unique identifier (<strong>eventID</strong>) and we can use the same approach as above. This time as each row is an Event we need to make sure the dataframe is ungrouped.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">rowwise</span>()<span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-5"><a href="#cb25-5"></a>    <span class="at">eventID =</span> uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>(<span class="at">use.time =</span> <span class="cn">FALSE</span>)</span>
<span id="cb25-6"><a href="#cb25-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-5" class="slide level2">
<h2></h2>
<p>Again we can include an <strong>eventDate</strong> for each event.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2"></a>    <span class="fu">mutate</span>(</span>
<span id="cb26-3"><a href="#cb26-3"></a>    <span class="at">eventDate =</span> date_egg) <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="#cb26-4"></a>  <span class="fu">mutate</span>(<span class="at">day=</span>lubridate<span class="sc">::</span><span class="fu">day</span>(date_egg),</span>
<span id="cb26-5"><a href="#cb26-5"></a>         <span class="at">month=</span>lubridate<span class="sc">::</span><span class="fu">month</span>(date_egg),</span>
<span id="cb26-6"><a href="#cb26-6"></a>         <span class="at">year=</span>lubridate<span class="sc">::</span><span class="fu">year</span>(date_egg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-6" class="slide level2">
<h2></h2>
<p>As each event is a sample in the penguins dataset where they measured a individual penguin we can set the <strong>sampleSizeValue</strong> as 1. The <strong>sampleSizeUnit</strong> can be “Adult penguin”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">mutate</span>(<span class="at">sampleSizeValue=</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">mutate</span>(<span class="at">sampleSizeUnit=</span><span class="st">"Adult penguin"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-7" class="slide level2">
<h2></h2>
<p>We can get the <strong>samplingProtocol</strong> for each event by looking at the original data package (links can be found when you type ??palmerpenguins::penguins_raw in to the R Console). All three parent events have the same protocol.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="fu">mutate</span>(<span class="at">samplingProtocol=</span> <span class="st">"Each season, study nests, where pairs of adults were present, were individually marked and chosen before the onset of egg-laying, and consistently monitored. When study nests were found at the one-egg stage, both adults were captured to obtain blood samples used for molecular sexing and stable isotope analyses, and measurements of structural size and body mass. At the time of capture, each adult penguin was quickly blood sampled (~1 ml) from the brachial vein using a sterile 3 ml syringe and heparinized infusion needle. Collected blood was stored in 1.5 ml micro-centrifuge tubes that were kept cool. In the field, a small amount of whole blood was smeared on clean filter paper stored in a 1.5 ml micro-centrifuge tube for molecular sexing. Measurements of culmen length and depth (using dial calipers ± 0.1 mm), right flipper (using a ruler ± 1 mm), and body mass (using 5 kg ± 25 g or 10 kg ± 50 g Pesola spring scales and a weigh bag) were obtained to quantify body size variation. After handling, individuals at study nests were further monitored to ensure the pair reached clutch completion, i.e., two eggs. Molecular analyses were conducted at Simon Fraser University following standard PCR protocols, and stable isotope analyses were conducted at the Stable Isotope Facility at the University of California, Davis using an elemental analyzer interfaced with an isotope ratio mass spectrometer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<p><strong>countryCode</strong> is the two letter standard (using ISO 3166-1-alpha-2) code for a country. Antarctica, defined as the territories south of 60°S is given the code AQ.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>penguin_data <span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">mutate</span>(<span class="at">countryCode=</span><span class="st">"AQ"</span>,</span>
<span id="cb29-3"><a href="#cb29-3"></a>         <span class="at">country=</span><span class="st">"Antarctica"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<p>The <strong>locationID</strong> can be a global unique identifier or an identifier specific to the data set. We have the region and island for the penguins data so we can use these to develop a data specific identifier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="fu">mutate</span>(<span class="at">locationID=</span><span class="fu">paste0</span>(region, <span class="st">"_"</span>, island))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-10" class="slide level2">
<h2></h2>
<p>We are not provided with precise coordinates (<strong>decimalLatitude</strong>, <strong>decimalLongitude</strong>) for the samples in the penguin data. However, we can get the centroid for each island.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">mutate</span>(<span class="at">decimalLatitude=</span> </span>
<span id="cb31-3"><a href="#cb31-3"></a>           <span class="fu">case_when</span>(</span>
<span id="cb31-4"><a href="#cb31-4"></a>             island<span class="sc">==</span><span class="st">"Torgersen"</span><span class="sc">~-</span><span class="fl">64.77308</span>,</span>
<span id="cb31-5"><a href="#cb31-5"></a>             island<span class="sc">==</span><span class="st">"Biscoe"</span><span class="sc">~-</span><span class="fl">65.4333316</span>,</span>
<span id="cb31-6"><a href="#cb31-6"></a>             island<span class="sc">==</span><span class="st">"Dream"</span><span class="sc">~-</span><span class="fl">64.7333333</span>,</span>
<span id="cb31-7"><a href="#cb31-7"></a>             <span class="cn">TRUE</span><span class="sc">~</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb31-8"><a href="#cb31-8"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-9"><a href="#cb31-9"></a>  <span class="fu">mutate</span>(<span class="at">decimalLongitude=</span> </span>
<span id="cb31-10"><a href="#cb31-10"></a>           <span class="fu">case_when</span>(</span>
<span id="cb31-11"><a href="#cb31-11"></a>             island<span class="sc">==</span><span class="st">"Torgersen"</span><span class="sc">~-</span><span class="fl">64.07413</span>,</span>
<span id="cb31-12"><a href="#cb31-12"></a>             island<span class="sc">==</span><span class="st">"Biscoe"</span><span class="sc">~-</span><span class="fl">65.499998</span>,</span>
<span id="cb31-13"><a href="#cb31-13"></a>             island<span class="sc">==</span><span class="st">"Dream"</span><span class="sc">~-</span><span class="fl">64.2333333</span>,</span>
<span id="cb31-14"><a href="#cb31-14"></a>             <span class="cn">TRUE</span><span class="sc">~</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb31-15"><a href="#cb31-15"></a>    </span>
<span id="cb31-16"><a href="#cb31-16"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-17"><a href="#cb31-17"></a>  <span class="fu">mutate</span>(<span class="at">geodeticDatum=</span><span class="st">"WGS 84"</span>) <span class="co">#default geodeticDatum is WGS 84</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-11" class="slide level2">
<h2></h2>
<p>As the coordinates are just the centroid for the island we need to include some measure of uncertainty (<strong>coordinateUncertaintyInMeters</strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">mutate</span>(<span class="at">coordinateUncertaintyInMeters=</span> </span>
<span id="cb32-3"><a href="#cb32-3"></a>           <span class="fu">case_when</span>(</span>
<span id="cb32-4"><a href="#cb32-4"></a>             island<span class="sc">==</span><span class="st">"Torgersen"</span><span class="sc">~</span><span class="dv">400</span>,</span>
<span id="cb32-5"><a href="#cb32-5"></a>             island<span class="sc">==</span><span class="st">"Biscoe"</span><span class="sc">~</span><span class="dv">500</span>,</span>
<span id="cb32-6"><a href="#cb32-6"></a>             island<span class="sc">==</span><span class="st">"Dream"</span><span class="sc">~</span><span class="dv">400</span>,</span>
<span id="cb32-7"><a href="#cb32-7"></a>             <span class="cn">TRUE</span><span class="sc">~</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb32-8"><a href="#cb32-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-12" class="slide level2">
<h2></h2>
<p>Finally, we can create the Event core by selecting those elements that we have listed above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>eventDF<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"datasetName"</span>,</span>
<span id="cb33-3"><a href="#cb33-3"></a>           <span class="st">"ownerInstitutionCode"</span>,</span>
<span id="cb33-4"><a href="#cb33-4"></a>           <span class="st">"parentEventID"</span>,</span>
<span id="cb33-5"><a href="#cb33-5"></a>           <span class="st">"eventID"</span>,</span>
<span id="cb33-6"><a href="#cb33-6"></a>           <span class="st">"samplingProtocol"</span>,</span>
<span id="cb33-7"><a href="#cb33-7"></a>           <span class="st">"sampleSizeValue"</span>,</span>
<span id="cb33-8"><a href="#cb33-8"></a>           <span class="st">"sampleSizeUnit"</span>,</span>
<span id="cb33-9"><a href="#cb33-9"></a>           <span class="st">"eventDate"</span>,</span>
<span id="cb33-10"><a href="#cb33-10"></a>           <span class="st">"year"</span>,</span>
<span id="cb33-11"><a href="#cb33-11"></a>           <span class="st">"month"</span>,</span>
<span id="cb33-12"><a href="#cb33-12"></a>           <span class="st">"day"</span>,</span>
<span id="cb33-13"><a href="#cb33-13"></a>           <span class="st">"locationID"</span>,</span>
<span id="cb33-14"><a href="#cb33-14"></a>           <span class="st">"country"</span>,</span>
<span id="cb33-15"><a href="#cb33-15"></a>           <span class="st">"countryCode"</span>,</span>
<span id="cb33-16"><a href="#cb33-16"></a>           <span class="st">"decimalLatitude"</span>,</span>
<span id="cb33-17"><a href="#cb33-17"></a>           <span class="st">"decimalLongitude"</span>,</span>
<span id="cb33-18"><a href="#cb33-18"></a>           <span class="st">"geodeticDatum"</span>,</span>
<span id="cb33-19"><a href="#cb33-19"></a>           <span class="st">"coordinateUncertaintyInMeters"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-13" class="slide level2">
<h2></h2>
<p>Then we need to add in the Parent Events in to the Event dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>eventDF<span class="ot">=</span>eventDF <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2"></a>  <span class="fu">mutate</span>(<span class="at">continent=</span><span class="cn">NA</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3"></a>  <span class="fu">mutate</span>(<span class="at">islandGroup=</span><span class="cn">NA</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">mutate</span>(<span class="at">eventDate=</span><span class="fu">as.character</span>(eventDate)) <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>(parent_penguinEvent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-14" class="slide level2">
<h2></h2>
<p>The final stage is to initialise an event object in the livingNorwayR</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>GBIF_Event<span class="ot">=</span><span class="fu">initializeGBIFEvent</span>(eventDF, <span class="at">idColumnInfo =</span> <span class="st">"eventID"</span>, <span class="at">nameAutoMap =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-occurrence-extension" class="slide level2">
<h2>The Occurrence extension</h2>
<p>We can find the supported terms for the Occurrence extension by using the following function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">getGBIFOccurrenceMembers</span>()[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]<span class="co">#Truncated</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`http://purl.org/dc/terms/type`
http://purl.org/dc/terms/type - Type (DEPRECATED)
The nature or genre of the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/type
    Type: Property
    Date modified: 2008-01-14
    Is replaced by: http://purl.org/dc/elements/1.1/type
    Notes:
        To provide a string literal value for type, use dc:type rather than this term. In accordance with the Darwin Core RDF guide, rdf:type should be used instead of this term to indicate an IRI value for type.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2009-12-07_1
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
        http://rs.tdwg.org/decisions/decision-2019-12-01_20
    Miscellaneous information:
        This term is deprecated and should no longer be used.
        not in ABCD

$`http://purl.org/dc/terms/modified`
http://purl.org/dc/terms/modified - Date Modified
The most recent date-time on which the resource was changed.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/modified
    Version IRI: http://dublincore.org/usage/terms/history/#modified-003
    Type: Property
    Date modified: 2020-08-12
    Notes:
        Recommended best practice is to use a date that conforms to ISO 8601-1:2019.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
    Examples:
        1963-03-08T14:07-0600 (8 Mar 1963 at 2:07pm in the time zone six hours earlier than UTC). 2009-02-20T08:40Z (20 February 2009 8:40am UTC). 2018-08-29T15:19 (3:19pm local time on 29 August 2018). 1809-02-12 (some time during 12 February 1809). 1906-06 (some time in June 1906). 1971 (some time in the year 1971). 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z (some time during the interval between 1 March 2007 1pm UTC and 11 May 2008 3:30pm UTC). 1900/1909 (some time during the interval between the beginning of the year 1900 and the end of the year 1909). 2007-11-13/15 (some time in the interval between 13 November 2007 and 15 November 2007).
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/language`
http://purl.org/dc/terms/language - Language
A language of the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/language
    Version IRI: http://dublincore.org/usage/terms/history/#languageT-001
    Type: Property
    Date modified: 2008-01-14
    Notes:
        Recommended best practice is to use an IRI from the Library of Congress ISO 639-2 scheme http://id.loc.gov/vocabulary/iso639-2
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2019-12-01_19
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/license`
http://purl.org/dc/terms/license - License
A legal document giving official permission to do something with the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/license
    Version IRI: http://dublincore.org/usage/terms/history/#license-002
    Type: Property
    Date modified: 2008-01-14
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-11-06_17
    Examples:
        http://creativecommons.org/publicdomain/zero/1.0/legalcode, http://creativecommons.org/licenses/by/4.0/legalcode
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/rightsHolder`
http://purl.org/dc/terms/rightsHolder - Rights Holder
A person or organization owning or managing rights over the resource.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/rightsHolder
    Version IRI: http://dublincore.org/usage/terms/history/#rightsHolder-002
    Type: Property
    Date modified: 2008-01-14
    Examples:
        The Regents of the University of California
    Miscellaneous information:
        not in ABCD

$`http://purl.org/dc/terms/accessRights`
http://purl.org/dc/terms/accessRights - Access Rights
Information about who can access the resource or an indication of its security status.

    Defined in: https://dwc.tdwg.org/
    IRI: http://purl.org/dc/terms/accessRights
    Version IRI: http://dublincore.org/usage/terms/history/#accessRights-002
    Type: Property
    Date modified: 2008-01-14
    Notes:
        Access Rights may include information regarding access or restrictions based on privacy, security, or other policies.
    Examples:
        not-for-profit use only, https://www.fieldmuseum.org/field-museum-natural-history-conditions-and-suggested-norms-use-collections-data-and-images
    Miscellaneous information:
        not in ABCD</code></pre>
</div>
</div>
</section>
<section id="section-15" class="slide level2">
<h2></h2>
<p>GBIF also has a list of required and <a href="https://www.gbif.org/data-quality-requirements-occurrences">recommended terms</a> for Occurrence data. The required terms are <strong>occurrenceID</strong>, <strong>basisOfRecord</strong>,<strong>scientificName</strong>, <strong>eventDate</strong> (included in the event core). The recommended terms include <strong>countryCode</strong>, <strong>taxonRank</strong>,<strong>kingdom</strong>, <strong>decimalLatitude</strong>, <strong>decimalLongitude</strong>, <strong>geodeticDatum</strong>, <strong>coordinateUncertaintyInMeters</strong>,<strong>individualCount</strong>, <strong>organismQuantity</strong> and <strong>organismQuantityType</strong>, some of which are included in the event core.</p>
</section>
<section id="section-16" class="slide level2">
<h2></h2>
<p>The <strong>type</strong> is an “Occurrence”. The <strong>collectionCode</strong> can be “Palmer Station Antarctica LTER” and the <strong>occurrenceID</strong> should be a globally unique identifier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="fu">mutate</span>(<span class="at">type=</span><span class="st">"Occurrence"</span>,</span>
<span id="cb38-3"><a href="#cb38-3"></a>    <span class="at">collectionCode=</span><span class="st">"Palmer Station Antarctica LTER"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="fu">mutate</span>(<span class="at">occurrenceID=</span>uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>(<span class="at">use.time =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-17" class="slide level2">
<h2></h2>
<p>The <strong>basisOfRecord</strong> records how the observation was made.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">mutate</span>(<span class="at">basisOfRecord=</span><span class="st">"HumanObservation"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-18" class="slide level2">
<h2></h2>
<p><strong>organismQuantity</strong> and <strong>organismQuantityType</strong>, are 1 individual penguin.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="fu">mutate</span>(<span class="at">organismQuantity=</span> <span class="dv">1</span>,</span>
<span id="cb40-3"><a href="#cb40-3"></a>         <span class="at">organismQuantityType=</span> <span class="st">"individual"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-19" class="slide level2">
<h2></h2>
<p>For the <strong>scientificName</strong> and <strong>vernacularName</strong> we can use the species name from the original data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">mutate</span>(<span class="at">scientificName=</span><span class="fu">gsub</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\\</span><span class="st">)]"</span>, <span class="st">""</span>, <span class="fu">regmatches</span>(species, <span class="fu">gregexpr</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">(.*?</span><span class="sc">\\</span><span class="st">)"</span>,species))[[<span class="dv">1</span>]]),</span>
<span id="cb41-3"><a href="#cb41-3"></a>         <span class="at">vernacularName=</span><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">([^</span><span class="sc">\\</span><span class="st">)]+</span><span class="sc">\\</span><span class="st">)"</span>,<span class="st">""</span>,species))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-20" class="slide level2">
<h2></h2>
<p><strong>taxonRank</strong>, <strong>kingdom</strong>, <strong>phylum</strong>, <strong>class</strong>, <strong>order</strong>, <strong>family</strong> and <strong>genus</strong> all relate to the scientific name of the species. The <strong>taxonRank</strong> will be <strong>species</strong> because we have identified the penguins to the species level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>penguin_data<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="fu">mutate</span>(<span class="at">kingdom=</span><span class="st">"Animalia"</span>,</span>
<span id="cb42-3"><a href="#cb42-3"></a>         <span class="at">phylum=</span><span class="st">"Chordata"</span>,</span>
<span id="cb42-4"><a href="#cb42-4"></a>         <span class="at">class=</span><span class="st">"Aves"</span>,</span>
<span id="cb42-5"><a href="#cb42-5"></a>         <span class="at">order=</span> <span class="st">"Sphenisciformes"</span>,</span>
<span id="cb42-6"><a href="#cb42-6"></a>         <span class="at">family=</span> <span class="st">"Spheniscidae"</span>,</span>
<span id="cb42-7"><a href="#cb42-7"></a>         <span class="at">genus=</span><span class="st">"Pygoscelis"</span>,</span>
<span id="cb42-8"><a href="#cb42-8"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb42-9"><a href="#cb42-9"></a>  <span class="fu">mutate</span>(<span class="at">taxonRank=</span><span class="st">"species"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-21" class="slide level2">
<h2></h2>
<p>Finally, as we did with the Event core, we can create the occurrence extension by selecting those elements that we have listed above and create a livingNorwayR object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>occ_ext<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">select</span>(type,collectionCode,basisOfRecord,occurrenceID, organismQuantity, organismQuantityType, </span>
<span id="cb43-3"><a href="#cb43-3"></a>         eventID, eventDate, scientificName,kingdom, phylum, class, order, family, genus,vernacularName,taxonRank, sex)</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a>GBIF_Occ<span class="ot">=</span><span class="fu">initializeGBIFOccurrence</span>(occ_ext, <span class="at">idColumnInfo =</span> <span class="st">"occurrenceID"</span>,<span class="at">nameAutoMap =</span> <span class="cn">TRUE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-measurement-or-fact-extension" class="slide level2">
<h2>The Measurement or Fact extension</h2>
<p>Our final extension is the “Measurement or Fact extension”. We can look at the definition of this extension using the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">getGBIFExtensionClasses</span>()<span class="sc">$</span>GBIFMeasurementOrFact </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>http://rs.tdwg.org/dwc/terms/MeasurementOrFact - Measurement or Fact
A measurement of or fact about an rdfs:Resource (http://www.w3.org/2000/01/rdf-schema#Resource).

    Defined in: https://dwc.tdwg.org/
    IRI: http://rs.tdwg.org/dwc/terms/MeasurementOrFact
    Version IRI: http://rs.tdwg.org/dwc/terms/version/MeasurementOrFact-2018-09-06
    Type: Class
    Date modified: 2018-09-06
    Notes:
        Resources can be thought of as identifiable records or instances of classes and may include, but need not be limited to dwc:Occurrence, dwc:Organism, dwc:MaterialSample, dwc:Event, dwc:Location, dwc:GeologicalContext, dwc:Identification, or dwc:Taxon.
    Executive committee decisions:
        http://rs.tdwg.org/decisions/decision-2014-10-26_15
    Examples:
        The weight of an organism in grams. The number of placental scars. Surface water temperature in Celsius.
    Miscellaneous information:
        Datasets/Dataset/Units/Unit/MeasurementsOrFacts or DataSets/DataSet/Units/Unit/Gathering/SiteMeasurementsOrFacts</code></pre>
</div>
</div>
</section>
<section id="section-22" class="slide level2">
<h2></h2>
<p>GBIF has a <a href="https://tools.gbif.org/dwca-validator/extension.do?id=dwc:MeasurementOrFact">list of properties</a> for this extension. These include <strong>measurementID</strong> <strong>measurementType</strong>, <strong>measurementValue</strong>, <strong>measurementAccuracy</strong>, <strong>measurementUnit</strong>, <strong>measurementDeterminedDate</strong>, <strong>measurementDeterminedBy</strong>, <strong>measurementMethod</strong> and <strong>measurementRemarks</strong>, none of which are required.</p>
</section>
<section id="section-23" class="slide level2">
<h2></h2>
<p>Let’s start with the <strong>measurementID</strong>. We should also include the <strong>occurrenceID</strong> and <strong>eventID</strong> so that we know which individual and in which sampling event the measurements were taken.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>M_or_f<span class="ot">=</span>penguin_data <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="fu">mutate</span>(<span class="at">measurementID=</span>uuid<span class="sc">::</span><span class="fu">UUIDgenerate</span>(<span class="at">use.time =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-24" class="slide level2">
<h2></h2>
<p>There are a number of measurements that we can include in this extension.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>M_or_f<span class="ot">=</span>M_or_f <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">select</span>(measurementID,parentEventID,occurrenceID,eventID,</span>
<span id="cb47-3"><a href="#cb47-3"></a>         culmen_length_mm, culmen_depth_mm, delta_13_c_o_oo, delta_15_n_o_oo, body_mass_g, flipper_length_mm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-25" class="slide level2">
<h2></h2>
<p>We need to pivot the data so that all the measurement types go in to a single column called <strong>measurementType</strong>. All the measurements go in to a column called <strong>measurementValue</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>M_or_f<span class="ot">=</span>M_or_f <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(culmen_length_mm, culmen_depth_mm, delta_13_c_o_oo, delta_15_n_o_oo, body_mass_g, flipper_length_mm), <span class="at">names_to=</span><span class="st">"measurementType"</span>,</span>
<span id="cb48-3"><a href="#cb48-3"></a>               <span class="at">values_to =</span> <span class="st">"measurementValue"</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="#cb48-5"></a>  <span class="fu">drop_na</span>(measurementValue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-26" class="slide level2">
<h2></h2>
<p>Finally we create a measurement or fact object using livingNorwayR.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>GBIF_Measure<span class="ot">=</span><span class="fu">initializeGBIFMeasurementOrFact</span>(M_or_f, <span class="at">idColumnInfo =</span> <span class="st">"measurementID"</span>, <span class="at">nameAutoMap =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="metadata" class="title-slide slide level1 center">
<h1>Metadata</h1>

</section>
<section id="eml-metadata" class="slide level2">
<h2>EML Metadata</h2>
<p>In Darwin Core archive files the standard format for handling metadata is <a href="https://eml.ecoinformatics.org/">EML</a>, a flavour of XML specifically designed for the handling of ecological metadata.</p>
<div class="fragment highlight-red">
<p>Writing EML in R is hard!!!!!! There are a <a href="https://livingnorway.github.io/LivingNorwayR/articles/EML_R_packages_overview.html">few options available</a>.</p>
</div>
</section>
<section id="metadata-in-livingnorwayr" class="slide level2">
<h2>Metadata in LivingNorwayR</h2>
<ul>
<li><p>The vision is to have a RMarkdown interface that allows one to render to a data report and EML at the same time</p></li>
<li><p>The current version is a little buggy, but we have a development version that should be released by the end of this year</p></li>
</ul>
</section>
<section id="section-27" class="slide level2">
<h2></h2>

<img data-src="images/metadata.png" class="r-stretch"></section>
<section id="section-28" class="slide level2">
<h2></h2>

<img data-src="images/metadata2.png" class="r-stretch"></section>
<section id="section-29" class="slide level2">
<h2></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>GBIF_metadata<span class="ot">&lt;-</span>metadata<span class="sc">$</span><span class="fu">initialize</span>(<span class="st">"C:/Users/matthew.grainger/Documents/Projects_in_development/LN_Workshops/metadata_test.RMD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-a-dwc-a-file" class="slide level2">
<h2>Create a DWC-a file</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>coreDWC<span class="ot">&lt;-</span>GBIF_Event</span>
<span id="cb51-2"><a href="#cb51-2"></a>extDWC<span class="ot">&lt;-</span><span class="fu">c</span>(GBIF_Occ, GBIF_Measure)</span>
<span id="cb51-3"><a href="#cb51-3"></a>metadata<span class="ot">&lt;-</span> GBIF_metadata</span>
<span id="cb51-4"><a href="#cb51-4"></a></span>
<span id="cb51-5"><a href="#cb51-5"></a></span>
<span id="cb51-6"><a href="#cb51-6"></a><span class="fu">initializeDwCArchive</span>(coreDwC, extDwC, metadata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="where-to-get-help-with-the-package" class="slide level2">
<h2>Where to get help with the Package</h2>
<p><a href="https://github.com/LivingNorway/LivingNorwayR">GitHub</a> please submit an <a href="https://github.com/LivingNorway/LivingNorwayR/issues">issue</a></p>
<p>If you want to <a href="https://github.com/LivingNorway/LivingNorwayR/blob/master/CONTRIBUTING.md">contribute</a> please do so through a pull request (this can be code, use-cases, documentation etc.)</p>

<img src="/assets/LivingNorwayR1.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://github.com/LivingNorway/LivingNorwayR">LivingNorwayR</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="05102012LNR_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="05102012LNR_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="05102012LNR_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="05102012LNR_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>